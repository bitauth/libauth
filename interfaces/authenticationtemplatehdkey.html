<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>AuthenticationTemplateHdKey | @bitauth/libauth</title>
	<meta name="description" content="Documentation for @bitauth/libauth">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">@bitauth/libauth</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="authenticationtemplatehdkey.html">AuthenticationTemplateHdKey</a>
				</li>
			</ul>
			<h1>Interface AuthenticationTemplateHdKey</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<a href="authenticationtemplatevariablebase.html" class="tsd-signature-type">AuthenticationTemplateVariableBase</a>
						<ul class="tsd-hierarchy">
							<li>
								<span class="target">AuthenticationTemplateHdKey</span>
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section tsd-is-external">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-external"><a href="authenticationtemplatehdkey.html#addressoffset" class="tsd-kind-icon">address<wbr>Offset</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external"><a href="authenticationtemplatehdkey.html#description" class="tsd-kind-icon">description</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-external"><a href="authenticationtemplatehdkey.html#hdpublickeyderivationpath" class="tsd-kind-icon">hd<wbr>Public<wbr>Key<wbr>Derivation<wbr>Path</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external"><a href="authenticationtemplatehdkey.html#name" class="tsd-kind-icon">name</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-external"><a href="authenticationtemplatehdkey.html#privatederivationpath" class="tsd-kind-icon">private<wbr>Derivation<wbr>Path</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-external"><a href="authenticationtemplatehdkey.html#publicderivationpath" class="tsd-kind-icon">public<wbr>Derivation<wbr>Path</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external"><a href="authenticationtemplatehdkey.html#type" class="tsd-kind-icon">type</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group tsd-is-external">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-external">
					<a name="addressoffset" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> address<wbr>Offset</h3>
					<div class="tsd-signature tsd-kind-icon">address<wbr>Offset<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L886">src/lib/template/template-types.ts:886</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The offset by which to increment the <code>addressIndex</code> provided in the
							compilation data when deriving this <code>HdKey</code>. (Default: 0)</p>
						</div>
						<p>This is useful for deriving the &quot;next&quot; (<code>1</code>) or &quot;previous&quot; (<code>-1</code>) address
						to be used in the current compilation context.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
					<a name="description" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> description</h3>
					<div class="tsd-signature tsd-kind-icon">description<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<p>Overrides <a href="authenticationtemplatevariablebase.html">AuthenticationTemplateVariableBase</a>.<a href="authenticationtemplatevariablebase.html#description">description</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L874">src/lib/template/template-types.ts:874</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>A single-line, human readable description for this HD key.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-external">
					<a name="hdpublickeyderivationpath" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> hd<wbr>Public<wbr>Key<wbr>Derivation<wbr>Path</h3>
					<div class="tsd-signature tsd-kind-icon">hd<wbr>Public<wbr>Key<wbr>Derivation<wbr>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L900">src/lib/template/template-types.ts:900</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The path to derive the entity&#39;s HD public key from the entity&#39;s master HD
								private key. By default, <code>m</code> (i.e. the entity&#39;s HD public key represents
							the same node in the HD tree as its HD private key).</p>
						</div>
						<p>This can be used to specify another derivation path from which the
							<code>publicDerivationPath</code> begins, e.g. <code>m/0&#39;/1&#39;/2&#39;</code>. See
						<code>publicDerivationPath</code> for details.</p>
						<p>This path must begin with an <code>m</code> (private derivation) and be fixed â€“ it
							cannot contain an <code>i</code> character to represent the address index, as a
						dynamic hardened path would require a new HD public key for each address.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
					<a name="name" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> name</h3>
					<div class="tsd-signature tsd-kind-icon">name<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<p>Overrides <a href="authenticationtemplatevariablebase.html">AuthenticationTemplateVariableBase</a>.<a href="authenticationtemplatevariablebase.html#name">name</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L878">src/lib/template/template-types.ts:878</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>A single-line, Title Case, human-readable name for this HD key.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-external">
					<a name="privatederivationpath" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> private<wbr>Derivation<wbr>Path</h3>
					<div class="tsd-signature tsd-kind-icon">private<wbr>Derivation<wbr>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L929">src/lib/template/template-types.ts:929</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The derivation path used to derive this <code>HdKey</code> from the owning entity&#39;s HD
							private key. By default, <code>m/i</code>.</p>
						</div>
						<p>This path uses the notation specified in BIP32 and the <code>i</code> character to
						represent the location of the <code>addressIndex</code>:</p>
						<p>The first character must be <code>m</code> (private derivation), followed by sets of
							<code>/</code> and a number representing the child index used in the derivation at
							that depth. Hardened derivation is represented by a trailing <code>&#39;</code>, and
							hardened child indexes are represented with the hardened index offset
							(<code>2147483648</code>) subtracted. The <code>i</code> character is replaced with the value of
							<code>addressIndex</code> plus this <code>HdKey</code>&#39;s <code>addressOffset</code>. If the <code>i</code> character is
							followed by <code>&#39;</code>, the hardened index offset is added (<code>2147483648</code>) and
						hardened derivation is used.</p>
						<p>For example, <code>m/0/1&#39;/i&#39;</code> uses 3 levels of derivation, with child indexes in
						the following order:</p>
						<p><code>derive(derive(derive(node, 0), 2147483648 + 1), 2147483648 + addressIndex + addressOffset)</code></p>
						<p>Because hardened derivation requires knowledge of the private key, <code>HdKey</code>
							variables with <code>derivationPath</code>s which include hardened derivation cannot
							use HD public derivation (the <code>hdPublicKeys</code> property in
							<code>CompilationData</code>). Instead, compilation requires the respective HD private
							key (<code>CompilationData.hdKeys.hdPrivateKeys</code>) or the fully-derived public
						key (<code>CompilationData.hdKeys.derivedPublicKeys</code>).</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-external">
					<a name="publicderivationpath" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> public<wbr>Derivation<wbr>Path</h3>
					<div class="tsd-signature tsd-kind-icon">public<wbr>Derivation<wbr>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L964">src/lib/template/template-types.ts:964</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The derivation path used to derive this <code>HdKey</code>&#39;s public key from the
								owning entity&#39;s HD public key. If not set, the public equivalent of
								<code>privateDerivationPath</code> is used. For the <code>privateDerivationPath</code> default of
							<code>m/i</code>, this is <code>M/i</code>.</p>
						</div>
						<p>If <code>privateDerivationPath</code> uses hardened derivation for some levels, but
							later derivation levels use non-hardened derivation, <code>publicDerivationPath</code>
							can be used to specify a public derivation path beginning from
							<code>hdPublicKeyDerivationPath</code> (i.e. <code>publicDerivationPath</code> should always be a
							non-hardened segment of <code>privateDerivationPath</code> which follows
						<code>hdPublicKeyDerivationPath</code>).</p>
						<p>The first character must be <code>M</code> (public derivation), followed by sets of
							<code>/</code> and a number representing the child index used in the non-hardened
						derivation at that depth.</p>
						<p>For example, if <code>privateDerivationPath</code> is <code>m/0&#39;/i</code>, it is not possible to
							derive the equivalent public key with only the HD public key <code>M</code>. (The path
							&quot;<code>M/0&#39;/i</code>&quot; is impossible). However, given the HD public key for <code>m/0&#39;</code>, it
							is possible to derive the public key of <code>m/0&#39;/i</code> for any <code>i</code>. In this case,
							<code>hdPublicKeyDerivationPath</code> would be <code>m/0&#39;</code> and <code>publicDerivationPath</code>
						would be the remaining <code>M/i</code>.</p>
						<dl class="tsd-comment-tags">
							<dt>remarks</dt>
							<dd><p>Non-hardened derivation paths are more useful for some templates, e.g. to
									allow for new locking scripts to be generated without communicating new
									public keys between entities for each. <strong>However, using a non-hardened key
									has critical security implications.</strong> If an attacker gains possession of
									both a parent HD <em>public key</em> and any child private key, the attacker can
									easily derive the parent HD <em>private key</em>, and with it, all hardened and
									non-hardened child keys. See BIP32 or
								<code>crackHdPrivateNodeFromHdPublicNodeAndChildPrivateNode</code> for details.</p>
							</dd>
						</dl>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
					<a name="type" class="tsd-anchor"></a>
					<h3>type</h3>
					<div class="tsd-signature tsd-kind-icon">type<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">"HdKey"</span></div>
					<aside class="tsd-sources">
						<p>Overrides <a href="authenticationtemplatevariablebase.html">AuthenticationTemplateVariableBase</a>.<a href="authenticationtemplatevariablebase.html#type">type</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/bitauth/libauth/blob/a8847028/src/lib/template/template-types.ts#L969">src/lib/template/template-types.ts:969</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The <code>HdKey</code> (Hierarchical-Deterministic Key) type automatically manages key
							generation and mapping in a standard way. For greater control, use <code>Key</code>.</p>
						</div>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-is-external">
						<a href="authenticationtemplatehdkey.html" class="tsd-kind-icon">Authentication<wbr>Template<wbr>HdKey</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-external">
								<a href="authenticationtemplatehdkey.html#addressoffset" class="tsd-kind-icon">address<wbr>Offset</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
								<a href="authenticationtemplatehdkey.html#description" class="tsd-kind-icon">description</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-external">
								<a href="authenticationtemplatehdkey.html#hdpublickeyderivationpath" class="tsd-kind-icon">hd<wbr>Public<wbr>Key<wbr>Derivation<wbr>Path</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
								<a href="authenticationtemplatehdkey.html#name" class="tsd-kind-icon">name</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-external">
								<a href="authenticationtemplatehdkey.html#privatederivationpath" class="tsd-kind-icon">private<wbr>Derivation<wbr>Path</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-external">
								<a href="authenticationtemplatehdkey.html#publicderivationpath" class="tsd-kind-icon">public<wbr>Derivation<wbr>Path</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-overwrite tsd-is-external">
								<a href="authenticationtemplatehdkey.html#type" class="tsd-kind-icon">type</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>